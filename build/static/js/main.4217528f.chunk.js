(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{275:function(e,t,n){},279:function(e,t){},281:function(e,t){},295:function(e,t){},297:function(e,t){},325:function(e,t){},327:function(e,t){},328:function(e,t){},333:function(e,t){},335:function(e,t){},354:function(e,t){},366:function(e,t){},369:function(e,t){},386:function(e,t,n){},404:function(e,t,n){},515:function(e,t,n){},529:function(e,t,n){},530:function(e,t,n){},531:function(e,t,n){},532:function(e,t,n){},533:function(e,t,n){},534:function(e,t,n){},535:function(e,t,n){},536:function(e,t,n){},537:function(e,t,n){},538:function(e,t,n){},539:function(e,t,n){},540:function(e,t,n){},541:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),r=n.n(s),o=n(32),c=n.n(o),i=(n(275),n(6)),l=n(268),u=n(161),d=n.n(u),j=(n(386),n(13)),b=n.n(j),h=n(20),g=n(544),m=n(545),A=n(546),p=n(547),f=n(21),O=n.n(f),x=(n(404),function(e){var t=function(t){function n(){return(n=Object(h.a)(b.a.mark((function t(n){var a,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O()({url:"https://songbook-cvs.herokuapp.com/songbook",method:"POST",data:n,headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}});case 2:if(!(200!==(a=t.sent).status&201!==a.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,a.data;case 7:return s=t.sent,t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}console.log("token fo bearer: ",e.token),function(e){return n.apply(this,arguments)}(t).then((function(e){console.log(e)})).catch((function(e){l.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))},n=g.a.useForm(),s=Object(i.a)(n,1)[0];return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(m.a,{visible:e.showAddForm,onCancel:function(){e.setShowAddForm(!1)},className:"addFormModal",centered:!0,onOk:function(){s.validateFields().then((function(n){s.resetFields(),function(n){var a={artist:n.artist,song:n.song};"bass"===n.type&&(a.bass=!0),"piano"===n.type&&(a.piano=!0),n.link&&(a.link=n.link),n.picurl&&(a.picurl=n.picurl),n.videourl&&(a.videourl=n.videourl),t(a),e.setShowAddForm(!1)}(n)})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(a.jsxs)(g.a,{form:s,layout:"vertical",name:"addSongForm",initialValues:{type:"guitar"},children:[Object(a.jsx)(g.a.Item,{name:"artist",label:"Artist, Band or Composer",rules:[{required:!0,message:"Please input at least the name of the artist!"}],children:Object(a.jsx)(A.a,{})}),Object(a.jsx)(g.a.Item,{name:"song",label:"Song name",rules:[{required:!0,message:"Please input at least the name of the song!"}],children:Object(a.jsx)(A.a,{})}),Object(a.jsx)(g.a.Item,{name:"link",label:"Tabs, Notes or Chords",children:Object(a.jsx)(A.a,{})}),Object(a.jsx)(g.a.Item,{name:"picurl",label:"Link to the album cover",children:Object(a.jsx)(A.a,{})}),Object(a.jsx)(g.a.Item,{name:"videourl",label:"Link to the youtube video",children:Object(a.jsx)(A.a,{})}),Object(a.jsx)(g.a.Item,{name:"type",className:"collection-create-form_last-form-item",children:Object(a.jsxs)(p.a.Group,{children:[Object(a.jsx)(p.a,{value:"guitar",children:"Guitar"}),Object(a.jsx)(p.a,{value:"bass",children:"Bass"}),Object(a.jsx)(p.a,{value:"piano",children:"Piano"})]})})]})})})}),k=n(162),v=(n(515),function(e){var t=function(t){function n(){return(n=Object(h.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({url:"https://auth-cvs.herokuapp.com/login",method:"POST",data:t});case 2:if(!(200!==(n=e.sent).status&201!==n.status)){e.next=5;break}throw new Error("Error!");case 5:return e.next=7,n.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(e){return n.apply(this,arguments)})(t).then((function(t){localStorage.setItem("refreshToken",t.refreshToken),e.login(t.token,t.refreshToken),l.a.success({message:"You have successfully logged in.",duration:3,placement:"topRight"})})).catch((function(e){l.a.error({error:e.message}),console.log("error",e.message)}))},n=g.a.useForm(),s=Object(i.a)(n,1)[0];return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(m.a,{visible:e.showLoginForm,onCancel:function(){e.setShowLoginForm(!1)},className:"loginModal",centered:!0,onOk:function(){s.validateFields().then((function(n){s.resetFields(),function(n){var a={email:n.email,password:n.password};t(a),e.setShowLoginForm(!1)}(n)})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(a.jsxs)(g.a,Object(k.a)(Object(k.a)({},{labelCol:{span:4},wrapperCol:{span:18}}),{},{form:s,name:"loginForm",children:[Object(a.jsx)(g.a.Item,{label:"eMail",name:"email",initialValue:"clement.vanstaen@gmail.com",children:Object(a.jsx)(A.a,{disabled:!0})}),Object(a.jsx)(g.a.Item,{label:"Pwd",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(a.jsx)(A.a.Password,{})})]}))})})}),w=n(257),y=n(258),C=n(269),N=n(264),P=n(130),B=n(560),S=n(259),E=n(548),T=n(543),z=n(557),D=n(558),L=n(265),G=n(549),F=n(551),U=(n(529),function(e){var t=Object(s.useState)(e.tags),n=Object(i.a)(t,2),r=n[0],o=n[1],c=Object(s.useState)(-1),u=Object(i.a)(c,2),d=u[0],j=u[1],g=Object(s.useState)(""),m=Object(i.a)(g,2),p=m[0],f=m[1],x=Object(s.useState)(!1),k=Object(i.a)(x,2),v=k[0],w=k[1],y=Object(s.useState)(""),C=Object(i.a)(y,2),N=C[0],P=C[1],B=function(t){function n(){return(n=Object(h.a)(b.a.mark((function t(n){var a,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O()({url:"https://songbook-cvs.herokuapp.com/songbook/"+e.id,method:"PATCH",data:{tags:n},headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}});case 2:if(!(200!==(a=t.sent).status&201!==a.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,a.data;case 7:return s=t.sent,t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(e){return n.apply(this,arguments)})(t).then((function(e){})).catch((function(e){l.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))},S=function(t){r[d]=p.toLowerCase(),o(r),B(r),j(-1),f(""),P(""),w(!1),e.setTagsMissing(!1)},E=function(e){j(-1),f(""),P(""),w(!1)},T=function(e){f(e.target.value),P(""),w(!1)},z=r?r.map((function(e,t){var n=e.length>30;return d===t?Object(a.jsx)(A.a,{size:"small",className:"tag-input",value:p,onChange:T,onBlur:E,onPressEnter:S},t):Object(a.jsx)(G.a,{className:"edit-tag",closable:!0,onClose:function(){return function(e){var t=r;t.splice(e,1),o(t)}(t)},children:Object(a.jsx)("span",{onDoubleClick:function(n){j(t),f(e),n.preventDefault()},children:n?"".concat(e.slice(0,30),"..."):e})},t)})):[];return Object(a.jsxs)("div",{className:"tags",children:[z,v&&Object(a.jsx)(A.a,{type:"text",size:"small",className:"tag-input",value:N,onChange:function(e){P(e.target.value)},onBlur:function(){P(""),w(!1),j(-1),f("")},onPressEnter:function(t){var n=t.target.value.toLowerCase();if(void 0===r||null===r){var a=[n];B(a),o(a)}else if(n&&-1===r.indexOf(n)){var s=[].concat(Object(L.a)(r),[n]);B(s),o(s)}P(""),w(!1),j(-1),f(""),e.setTagsMissing(!1)}}),!v&&Object(a.jsxs)(G.a,{className:"site-tag-plus",onClick:function(){w(!0),j(-1),f("")},children:[Object(a.jsx)(F.a,{})," Add Tag"]})]})}),M=function(e){var t=Object(s.useState)("Loading ..."),n=Object(i.a)(t,2),r=n[0],o=n[1];Object(s.useEffect)((function(){"Loading ..."===r&&"No lyrics found."===r&&c()}));var c=function(){function t(){return(t=Object(h.a)(b.a.mark((function t(){var n,a,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O()({url:"https://songbook-cvs.herokuapp.com/"+"lyrics/".concat(e.id),method:"GET"});case 2:if(!(200!==(n=t.sent).status&201!==n.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,n.data;case 7:return a=t.sent,s=a,t.abrupt("return",s);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}"Loading ..."!=r&&null!=r||function(){return t.apply(this,arguments)}().then((function(e){console.log(e.lyrics),e.lyrics.length>0?o(function(e){return e.toString().replaceAll("\xc3\xa9","\xe9").replaceAll("\xc3\xaa","\xea").replaceAll("\xc3\xa8","\xe8").replaceAll("\xc3\xa7","\xe7").replaceAll("\xc3\xbb ","\xfb").replaceAll("\xc3","\xe0")}(e.lyrics)):o("No lyrics found.")})).catch((function(e){console.log(e),o("No lyrics found.")}))};return Object(a.jsx)("div",{style:{whiteSpace:"pre-line"},children:r})},Q=n(552),I=n(553),R=(n(530),function(e){var t=Object(s.useState)(e.tabs),n=Object(i.a)(t,2),r=n[0],o=n[1],c=Object(s.useState)(e.video),u=Object(i.a)(c,2),d=u[0],j=u[1],g=Object(s.useState)(e.pic),m=Object(i.a)(g,2),p=m[0],f=m[1],x=Object(s.useState)(!1),k=Object(i.a)(x,2),v=k[0],w=k[1],y=Object(s.useState)(!1),C=Object(i.a)(y,2),N=C[0],P=C[1],B=Object(s.useState)(!1),S=Object(i.a)(B,2),E=S[0],T=S[1],z=Object(s.useState)(""),D=Object(i.a)(z,2),L=D[0],F=D[1],U=e.isDrawerFold?165:390,M=e.isDrawerFold?230:480,R=function(t){function n(){return(n=Object(h.a)(b.a.mark((function t(n){var a,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O()({url:"https://songbook-cvs.herokuapp.com/songbook/"+e.id,method:"PATCH",data:n,headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}});case 2:if(!(200!==(a=t.sent).status&201!==a.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,a.data;case 7:return s=t.sent,t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(e){return n.apply(this,arguments)})(t).then((function(e){})).catch((function(e){l.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))},V=function(e){F(e.target.value)},J=function(){v&&w(!1),N&&P(!1),E&&T(!1),F("")},Z=function(){v?(L.length>0?(R({link:L}),e.setTabsMissing(!1)):(R({link:"null"}),e.setTabsMissing(!0)),o(L),w(!1)):N?(L.length>0?(R({videourl:L}),e.setVideoMissing(!1)):(R({videourl:"null"}),e.setVideoMissing(!0)),j(L),P(!1)):E&&(L.length>0?(R({picurl:L}),e.setPicMissing(!1)):(R({picurl:"null"}),e.setPicMissing(!0)),f(L),T(!1)),F("")},X=function(e,t){var n,a,s=!1,r=function(e){var t=document.createElement("canvas").getContext("2d");return t.font="12px sans-serif",t.measureText(e).width};for(n=e.length;r(e.slice(0,n))>t;n--)a=n,s=!0;return s?"".concat(e.slice(0,a),"..."):e};return Object(a.jsxs)("div",{className:"links",children:[Object(a.jsxs)("div",{children:["\xa0\xa0Tabs:",v?Object(a.jsx)(A.a,{size:"small",style:{width:M},className:"tag-input",value:L,onChange:V,onBlur:J,onPressEnter:Z},"link_input_".concat(e.id)):Object(a.jsx)("a",{href:r,target:"_Blank",rel:"noreferrer",children:Object(a.jsxs)(G.a,{className:"links__tag",children:[Object(a.jsx)(Q.a,{}),"\xa0\xa0",X(r,U),Object(a.jsx)(I.a,{onClick:function(e){F(r),w(!0),e.preventDefault()}})]},"tabs")})]}),Object(a.jsxs)("div",{children:["Video:",N?Object(a.jsx)(A.a,{size:"small",style:{width:M},className:"tag-input",value:L,onChange:V,onBlur:J,onPressEnter:Z},"link_input_".concat(e.id)):Object(a.jsx)("a",{href:d,target:"_Blank",rel:"noreferrer",children:Object(a.jsxs)(G.a,{className:"links__tag",children:[Object(a.jsx)(Q.a,{}),"\xa0\xa0",X(d,U),Object(a.jsx)(I.a,{onClick:function(e){F(d),P(!0),e.preventDefault()}})]},"video")})]}),Object(a.jsxs)("div",{children:["\xa0\xa0\xa0\xa0Pic:",E?Object(a.jsx)(A.a,{size:"small",style:{width:M},className:"tag-input",value:L,onChange:V,onBlur:J,onPressEnter:Z},"link_input_".concat(e.id)):Object(a.jsxs)(G.a,{className:"links__tag",onDoubleClick:function(e){F(p),T(!0),e.preventDefault()},children:[Object(a.jsx)(Q.a,{}),"\xa0\xa0",X(p,U),Object(a.jsx)(I.a,{onClick:function(e){F(p),T(!0),e.preventDefault()}})]},"pic")]})]})}),V=(n(531),function(e){var t=Object(s.useState)(e.bass?"b":e.piano?"p":"g"),n=Object(i.a)(t,2),r=n[0],o=n[1],c=Object(s.useState)(e.artist),u=Object(i.a)(c,2),d=u[0],j=u[1],g=Object(s.useState)(e.song),m=Object(i.a)(g,2),f=m[0],x=m[1],k=Object(s.useState)(!1),v=Object(i.a)(k,2),w=v[0],y=v[1],C=Object(s.useState)(!1),N=Object(i.a)(C,2),P=N[0],B=N[1],S=Object(s.useState)(""),E=Object(i.a)(S,2),T=E[0],z=E[1],D=e.isDrawerFold?165:400,L=function(t){function n(){return(n=Object(h.a)(b.a.mark((function t(n){var a,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O()({url:"https://songbook-cvs.herokuapp.com/songbook/"+e.id,method:"PATCH",data:n,headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}});case 2:if(!(200!==(a=t.sent).status&201!==a.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,a.data;case 7:return s=t.sent,t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(e){return n.apply(this,arguments)})(t).then((function(e){console.log("Success",e)})).catch((function(e){l.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))},F=function(e){z(e.target.value)},U=function(){w&&y(!1),P&&B(!1),z("")},M=function(){w?(T.length>0?L({artist:T}):L({artist:"null"}),j(T),e.setArtist(T),y(!1)):P&&(T.length>0?L({song:T}):L({song:"null"}),x(T),e.setSong(T),B(!1)),z("")},Q=function(e,t){var n,a,s=!1,r=function(e){var t=document.createElement("canvas").getContext("2d");return t.font="12px sans-serif",t.measureText(e).width};for(n=e.length;r(e.slice(0,n))>t;n--)a=n,s=!0;return s?"".concat(e.slice(0,a),"..."):e};return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"Extras__radioType",children:Object(a.jsxs)(p.a.Group,{onChange:function(t){switch(t.target.value){case"g":e.setIsBass(!1),e.setIsPiano(!1),L({bass:!1,piano:!1});break;case"b":e.setIsBass(!0),e.setIsPiano(!1),L({bass:!0,piano:!1});break;case"p":e.setIsBass(!1),e.setIsPiano(!0),L({bass:!1,piano:!0});break;default:console.log("Error!")}o(t.target.value)},value:r,children:[Object(a.jsx)(p.a,{value:"g",children:"Guitar"}),Object(a.jsx)(p.a,{value:"b",children:"Bass"}),Object(a.jsx)(p.a,{value:"p",children:"Piano"})]})}),Object(a.jsx)("div",{className:"Extra__spacer"}),Object(a.jsxs)("div",{className:"Extras__artist",children:["\xa0\xa0Artist:",w?Object(a.jsx)(A.a,{size:"small",className:"Extras__input",value:T,onChange:F,onBlur:U,onPressEnter:M},"link_input_".concat(e.id)):Object(a.jsxs)(G.a,{children:[Q(d,D),"\xa0\xa0",Object(a.jsx)(I.a,{onClick:function(e){z(d),y(!0),B(!1),e.preventDefault()}})]},"Artist")]}),Object(a.jsxs)("div",{className:"Extras__song",children:["\xa0\xa0\xa0Song:",P?Object(a.jsx)(A.a,{size:"small",className:"Extras__input",value:T,onChange:F,onBlur:U,onPressEnter:M},"link_input_".concat(e.id)):Object(a.jsxs)(G.a,{children:[Q(f,D),"\xa0\xa0",Object(a.jsx)(I.a,{onClick:function(e){z(f),B(!0),y(!1),e.preventDefault()}})]},"Song")]})]})}),J=n(59),Z=n(550),X=n(554),Y=n(555),H=n(556),K=function(e){var t=Object(s.useState)(e.active),n=Object(i.a)(t,2),r=n[0],o=n[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(J.a,{style:{marginBottom:"10px"},icon:Object(a.jsx)(X.a,{}),onClick:function(){return function(t){function n(){return(n=Object(h.a)(b.a.mark((function t(n){var a,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O()({url:"https://songbook-cvs.herokuapp.com/songbook/"+e.id,method:"PATCH",data:{active:n},headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}});case 2:if(!(200!==(a=t.sent).status&201!==a.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,a.data;case 7:return s=t.sent,t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(e){return n.apply(this,arguments)})(t).then((function(){o(t),l.a.error({description:"Song #".concat(e.id," has been ").concat(r?"a":"una","rchived."),icon:Object(a.jsx)(X.a,{style:{color:"#000"}})})})).catch((function(e){l.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))}(!r)},block:!0,danger:r,children:[r?"A":"Una","rchive this song"]}),Object(a.jsx)(Z.a,{title:"Are you sure\uff1f",icon:Object(a.jsx)(H.a,{style:{color:"red"}}),onConfirm:function(){function t(){return(t=Object(h.a)(b.a.mark((function t(){var n,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O()({url:"https://songbook-cvs.herokuapp.com/songbook/"+e.id,method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}});case 2:if(!(200!==(n=t.sent).status&201!==n.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,n.data;case 7:return a=t.sent,t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().then((function(){l.a.error({description:"Song #".concat(e.id," has been deleted."),icon:Object(a.jsx)(Y.a,{style:{color:"#6E0F1C"}})})})).catch((function(e){l.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))},children:Object(a.jsx)(J.a,{block:!0,icon:Object(a.jsx)(Y.a,{}),type:"primary",danger:!0,children:"Delete this song"})})]})},q=function(e){var t=Object(s.useState)(350),n=Object(i.a)(t,2),r=n[0],o=n[1],c=Object(s.useState)(!0),l=Object(i.a)(c,2),u=l[0],d=l[1],j=Object(s.useState)(e.page.artist),b=Object(i.a)(j,2),h=b[0],g=b[1],m=Object(s.useState)(e.page.song),A=Object(i.a)(m,2),p=A[0],f=A[1],O=e.page.videourl?e.page.videourl.split("=")[1]:"",x={height:u?227:310,width:u?300:550,playerVars:{autoplay:0}};Object(s.useEffect)((function(){k(u)}),[u]);var k=function(e){o(e?350:600),d(e)};return Object(a.jsxs)(E.a,{title:Object(a.jsxs)("div",{children:[u?Object(a.jsx)(z.a,{onClick:function(){return k(!1)}}):Object(a.jsx)(D.a,{onClick:function(){return k(!0)}}),"\xa0\xa0",u?p.toUpperCase():h.toUpperCase()+" - "+p.toUpperCase()]}),placement:"right",closable:!0,onClose:function(){d(!0),e.setDrawerVisible(!1)},visible:e.drawerVisible,width:r,children:[e.page.videourl?Object(a.jsx)(S.a,{videoId:O,opts:x}):Object(a.jsx)("img",{src:e.page.picurl,className:"Page-drawer__artwork",alt:"pic_missing"}),Object(a.jsx)(T.a,{orientation:"left",plain:!0,children:Object(a.jsx)("span",{className:"Page-drawer__diviser",children:"Links"})}),Object(a.jsx)(R,{tabs:e.page.link,video:e.page.videourl,pic:e.page.picurl,id:e.page.id,setTabsMissing:e.setTabsMissing,setVideoMissing:e.setVideoMissing,setPicMissing:e.setPicMissing,isDrawerFold:u,token:e.token}),Object(a.jsx)(T.a,{orientation:"left",plain:!0,children:Object(a.jsx)("span",{className:"Page-drawer__diviser",children:"Tags"})}),Object(a.jsx)(U,{tags:e.page.tags,id:e.page.id,setTagsMissing:e.setTagsMissing,token:e.token}),Object(a.jsx)(T.a,{orientation:"left",plain:!0,children:Object(a.jsx)("span",{className:"Page-drawer__diviser",children:"Extras"})}),Object(a.jsx)(V,{artist:e.page.artist,song:e.page.song,piano:e.page.piano,bass:e.page.bass,setArtist:g,setSong:f,isDrawerFold:u,id:e.page.id,setIsPiano:e.setIsPiano,setIsBass:e.setIsBass,token:e.token}),Object(a.jsx)(T.a,{orientation:"left",plain:!0,children:Object(a.jsx)("span",{className:"Page-drawer__diviser",children:"Lyrics"})}),Object(a.jsx)(M,{id:e.page.id}),Object(a.jsx)(T.a,{orientation:"left",plain:!0,children:Object(a.jsx)("span",{className:"Page-drawer__diviser",children:"Danger Zone"})}),Object(a.jsx)(K,{id:e.page.id,active:e.page.active,token:e.token})]})},W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAACwklEQVRoge1Yy47aMBQ9thM2hVlTiSXsqFCnoxZWsIAvGPUDRl2OxKj9oOkPVLMHNkFQIbWqKiQ+AXXYkxXCdTfjNBC/SGCmjxzJIvjca9+Tex07AXLkyJHjr4Pv+5993xd7bXIs/hAQE9ntdl8QQj4CeAmAyv4gCJT2nU4HQgiMx2Ml3263QQgx+sfAAXwnhFwNh8OFLkbPJIAQcgvglYqrVCo7/5fLJTjnEEIYeUKIlt8DA3AhhLgF8DqVAADnAPD28hLPy+WoMwgCMMYSxu/7fQDAdDpV8h9ubgAAk8lEyfevr6PrH/f3+HR3F8WQVgAFgGq1miQoTfQ9KxaPxtdqNXmZVBqDTQAAoHR2luhTBRC3y8q7IrUAVQnE7bLyrnASoLpbtr6svCv+XwGqEojbZeVd8e9nQAjhfLfidll5Obfc+HRwEvBUGTipgMdYA/JYYoJRgBDiyTNgE/HHl5ANqTPwWCWUOQOqgQFgu92iUCgAADabTcIuK++K1AJms5nRLivvCicPSulOazabCZtWq3U0XjYX2N7IQAhJ1OtgMAAANBoNcM6xWCyUfPnhJWi1Win5er0Oxhjm87lx/tQCbINITsd7nhfZpfG3BQ84ZkAHSqnxKaF60uz7m0rl5BmQAtJmQAo4WQZsg9gyIAWY/G0ZsCGzABNsJcQYO70A00AywCwlxBhzClQHJwE62Ca3lZDneak2r50xXIxMGTAtcluGZAmdPAO6uyQF6HiZAZP/Ibuucg4XI1OAnPNMAmwL2QYnAbqtXmZAx0sBJp5SquVdYBPwEwD1fR/F2HdLAAjDMBKg4tfrdSTA8zyUSiWlP6VU6R+GobzkpgCNq6fX630FcGGyAX6/eOy3nYli5x7bGWgPX0aj0RsdaTsLXT18nz+H4StxPBgZuEpA/NcBHMA3Qsg7V4ccOXLkyHEwfgGWMvrsH43YhwAAAABJRU5ErkJggg==",_=(n(532),function(e){var t=e.isPiano;return Object(a.jsx)("div",{className:"piano",id:"piano",children:t&&Object(a.jsx)(P.a,{placement:"bottomRight",title:"Play this on keys!",children:Object(a.jsx)("img",{className:"piano__img",src:W,alt:W})})})}),$="data:image/png;base64,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",ee=(n(533),function(e){var t=e.isBass;return Object(a.jsx)("div",{className:"bass",id:"piano",children:t&&Object(a.jsx)(P.a,{placement:"bottomRight",title:"Play this on bass!",children:Object(a.jsx)("img",{className:"bass__img",src:$,alt:$})})})}),te=n(559),ne=(n(534),function(e){var t=Object(s.useState)(e.checked),n=Object(i.a)(t,2),r=n[0],o=n[1],c=(e.isVisitor,function(t){!function(t){function n(){return(n=Object(h.a)(b.a.mark((function t(n){var a,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O()({url:"https://songbook-cvs.herokuapp.com/songbook/"+e.id,method:"PATCH",data:{checked:n},headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}});case 2:if(!(200!==(a=t.sent).status&201!==a.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,a.data;case 7:return s=t.sent,t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(e){return n.apply(this,arguments)})(t).catch((function(e){l.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))}(t),o(t)});return Object(a.jsx)("div",{className:"CheckAdd",id:"checkAdd",children:r?Object(a.jsx)(P.a,{placement:"top",title:"Click to mark this song as unknown.",children:Object(a.jsx)(te.a,{onClick:function(){return c(!1)},className:"CheckAdd__ico clickable"})}):Object(a.jsx)(P.a,{placement:"top",title:"Click to mark this song as known.",children:Object(a.jsx)(te.a,{onClick:function(){return c(!0)},className:"CheckAdd__ico clickable grey_check"})})})}),ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAABhklEQVRoge3ZsUsCYRjH8d/jhaQmlkuLf0FBU3SGBGpDm1vQ1NAQNNQU1ChNQZAEDTU1NLW3ieFwELa1tNRYQwRJ2ImEd09Di0SJD93xGjyf8e7e532/cDcdoJT610i6oJ23M2xxhYElAMmAztEipmrXwm6q2riXLBQFtPN2xrf4FkBadLzBvUbYmolfXT8NuiAimc4WVxDe4QEg7cM7lCyQBXy9NuEi2R6iAAT3zveTkjwsDRg6GmCaBpimAaZpgGkaYJoGmKYBpmmAaRpgmgaYpgGmaYBpGmBaWAEM4NInWiCfZkE4B+CFsdFIwPM+QLhgpv1krXHXc331LT+/Z1n+JsDrAEaD2lD0g+N9cY5/udUC6Czi4SBebzz2n2FPMvEGAVtgTPz0zFjtZuBz/TXgmQknXid6NO44Tcmsl1wuGRvtrgG8DSDTey/0ACI8MNNxwoudUr3ekcz4jpeno24zsQLGDoApQBYg4hZtxy1kS1wO/uPnMiJuIVtyi7YT9Gyl1BD7BGkmaI4lwsjMAAAAAElFTkSuQmCC",se=(n(535),function(e){var t=function(t){e.setIsBookmarked(t),function(t){function n(){return(n=Object(h.a)(b.a.mark((function t(n){var a,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O()({url:"https://songbook-cvs.herokuapp.com/songbook/"+e.id,method:"PATCH",data:{bookmark:n},headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}});case 2:if(!(200!==(a=t.sent).status&201!==a.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,a.data;case 7:return s=t.sent,t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(e){return n.apply(this,arguments)})(t).then((function(e){var t=e;console.log("Sucess",t)})).catch((function(e){l.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))}(t)},n=e.isBookmarked;return Object(a.jsx)("div",{className:"bookmark",id:"bookmark",children:n?Object(a.jsx)(P.a,{placement:"right",title:"Delete the bookmark.",children:Object(a.jsx)("img",{onClick:function(){return t(!1)},className:"bookmark__img clickable",src:ae,alt:ae})}):Object(a.jsx)(P.a,{placement:"right",title:"Bookmark this.",children:Object(a.jsx)("img",{onClick:function(){return t(!0)},className:"bookmark__img clickable bookmark__grey",src:ae,alt:ae})})})}),re=(n(536),function(e){var t=Object(s.useState)(e.title.replace(/ /g,"").length>23?"".concat(e.title.replace("-","/").replace(/ /g,"").slice(0,23),"..."):e.title.replace("-","/").replace(/ /g,"")),n=Object(i.a)(t,2),r=n[0],o=n[1],c=Object(s.useState)(!1),u=Object(i.a)(c,2),d=u[0],j=u[1],g=Object(s.useState)(e.title.replace("-","/")),m=Object(i.a)(g,2),p=m[0],f=m[1];return Object(a.jsx)(a.Fragment,{children:d?Object(a.jsx)(A.a,{size:"small",className:"title__input",value:p,onChange:function(e){f(e.target.value)},onBlur:function(){j(!1),f(e.title.replace("-","/")),console.log("cancel")},onPressEnter:function(){!function(t){function n(){return(n=Object(h.a)(b.a.mark((function t(n){var a,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O()({url:"https://songbook-cvs.herokuapp.com/songbook/"+e.id,method:"PATCH",data:{title:n},headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.token}});case 2:if(!(200!==(a=t.sent).status&201!==a.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,a.data;case 7:return s=t.sent,t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(e){return n.apply(this,arguments)})(t).then((function(e){console.log("Sucess",e)})).catch((function(e){l.a.error({description:"Unauthorized! Please login."}),console.log("error",e.message)}))}(p.replace("/","-")),o(p.replace(/ /g,"").length>23?"".concat(p.replace("-","/").replace(/ /g,"").slice(0,23),"..."):p.replace("-","/").replace(/ /g,"")),j(!1)}},"title_input_".concat(e.id)):Object(a.jsx)("div",{className:"Page__title",onDoubleClick:function(){return j(!0)},children:r})})}),oe=(n.p,n(537),function(e){var t=Object(s.useState)(e.page.bookmark),n=Object(i.a)(t,2),r=n[0],o=n[1],c=Object(s.useState)(e.page.piano),l=Object(i.a)(c,2),u=l[0],d=l[1],j=Object(s.useState)(e.page.bass),b=Object(i.a)(j,2),h=b[0],g=b[1],m=Object(s.useState)(!1),A=Object(i.a)(m,2),p=A[0],f=A[1],O=Object(s.useState)("null"===e.page.link),x=Object(i.a)(O,2),k=x[0],v=x[1],w=Object(s.useState)(null===e.page.tags),y=Object(i.a)(w,2),C=y[0],N=y[1],P=Object(s.useState)("null"===e.page.videourl),B=Object(i.a)(P,2),S=B[0],E=B[1],T=Object(s.useState)("null"===e.page.picurl),z=Object(i.a)(T,2),D=z[0],L=z[1],G=Object(s.useState)(!!(k||C||S||D)),F=Object(i.a)(G,2),U=F[0],M=F[1];Object(s.useEffect)((function(){M(!!(k||C||S||D))}),[k,C,S,D]);var Q=function(){f(!0)};return Object(a.jsxs)("div",{className:"Page__main",children:[U&&Object(a.jsxs)("div",{className:"Page__notab",onClick:Q,children:[Object(a.jsx)("div",{className:"Page__notab-text",children:function(){var e=[];if(U)return!0===k&&e.push("TABS MISSING"),!0===C&&e.push("HASHTAGS MISSING"),!0===S&&e.push("VIDEO MISSING"),!0===D&&e.push("PICTURE MISSING"),e.map((function(e,t){return Object(a.jsxs)("div",{children:[e," ",Object(a.jsx)("br",{})]},t)}))}()}),Object(a.jsx)("div",{className:"Page__notab Page__notab-background"})]}),Object(a.jsx)("div",{className:"Page__opendrawer",onClick:Q,children:Object(a.jsx)("img",{src:e.page.picurl,alt:"pic_missing",className:"Page__artwork"})}),Object(a.jsx)(se,{id:e.page.id,setIsBookmarked:o,isBookmarked:r,token:e.token}),Object(a.jsxs)("div",{className:"Page__icons",children:[Object(a.jsx)(_,{isPiano:u}),Object(a.jsx)(ee,{isBass:h})]}),Object(a.jsx)("div",{className:"Page__actionicon",children:Object(a.jsx)(ne,{isVisitor:!1,checked:e.page.checked,id:e.page.id,token:e.token})}),Object(a.jsx)(re,{title:e.page.title,id:e.page.id,token:e.token}),Object(a.jsx)(q,{page:e.page,setDrawerVisible:f,drawerVisible:p,setTabsMissing:v,setTagsMissing:N,setVideoMissing:E,setPicMissing:L,setIsPiano:d,setIsBass:g,token:e.token})]},e.page.id)}),ce=(n(538),function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={songbookPages:[],isLoading:!0,isError:!1,showRandomModal:!1},e.handleRandomPick=function(){e.setState({showRandomModal:!e.state.showRandomModal})},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.loadPages()}},{key:"loadPages",value:function(){var e=this;function t(){return(t=Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({url:"https://songbook-cvs.herokuapp.com/songbook",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=5;break}throw new Error("Error!");case 5:return e.next=7,t.data;case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().then((function(t){var n=t;e.setState({songbookPages:n}),e.setState({isLoading:!1})})).catch((function(t){e.setState({isError:!0,isLoading:!1}),console.log(t.message)}))}},{key:"render",value:function(){var e=this,t=this.state.songbookPages.map((function(t){var n=!0;return t.bass&&(n=!e.props.filterBass),t.piano&&(n=!e.props.filterPiano),t.bass||t.piano||(n=!e.props.filterGuitar),!t.bookmark&&e.props.onlyBookmarked&&(n=!1),1===e.props.onlyFlagKnown?t.checked&&(n=!1):2===e.props.onlyFlagKnown&&(t.checked||(n=!1)),n?Object(a.jsx)("div",{children:Object(a.jsx)(oe,{page:t,token:e.props.token})},t.id):null})),n=t.filter((function(e){return null!=e})),s=function(){var t=["guitar","piano","bass"];return e.props.filterGuitar&&t.splice(t.indexOf("guitar"),1),e.props.filterPiano&&t.splice(t.indexOf("piano"),1),e.props.filterBass&&t.splice(t.indexOf("bass"),1),e.props.onlyBookmarked&&t.push("bookmarked"),1===e.props.onlyFlagKnown?t.push("unknown"):2===e.props.onlyFlagKnown&&t.push("known"),t},r=Math.floor(Math.random()*n.length)-1;return Object(a.jsxs)("div",{style:{width:"100%"},children:[Object(a.jsx)(m.a,{visible:this.state.showRandomModal,onCancel:function(){return e.setState({showRandomModal:!1})},footer:null,width:409,closable:!1,className:"randomPickModal",centered:!0,children:Object(a.jsx)("div",{className:"centered",children:n[r]})}),this.state.isLoading?Object(a.jsx)("div",{className:"Book__spinner",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{src:"https://avatars0.githubusercontent.com/u/12551446",className:"loader",alt:"Loading"}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{style:{fontSize:18,marginTop:10,color:"white"},children:"Loading ... "})]})}):this.state.isError?Object(a.jsx)("div",{className:"Book__spinner",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(B.a,{className:"error__icon"}),Object(a.jsx)("img",{src:"https://avatars0.githubusercontent.com/u/12551446",className:"error",alt:"Error"}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{style:{fontSize:18,marginTop:10,color:"white"},children:"Error connecting to the backend!"})]})}):Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"Book__resultInfos",children:s().length>0&&Object(a.jsxs)(a.Fragment,{children:[n.length+" songs for "+function(){var e=s();if(e.length>1){var t=e.slice(0,e.length-1),n=e[e.length-1];return t.join(", ")+" & "+n}return e[0]}(),"\xa0-\xa0",Object(a.jsx)(P.a,{placement:"bottomLeft",title:"Random song from this selection.",children:Object(a.jsx)("span",{className:"Book_resutltRamdomPick",onClick:this.handleRandomPick,children:"[random pick]"})})]})}),n.length>0?Object(a.jsx)("div",{className:"Book__main",children:t}):Object(a.jsx)("div",{className:"Book__nothingFound",children:Object(a.jsxs)("div",{style:{marginBottom:"15px"},children:[Object(a.jsx)("img",{src:"data:image/png;base64,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",className:"nothingFound",alt:"Nothing found"}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{style:{fontSize:14,marginTop:10,color:"white",opacity:.15},children:"Nothing found!"})]})})]})]})}}]),n}(s.Component)),ie=n(561),le="data:image/png;base64,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",ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAACaElEQVRoge2YT2sTQRiHn9WjORepSJNc6rF/8KQGP4GFoFD6Jaz1oCerN/0kmlYEP4BVS+3JklsVhFIo0ha9RbCFQjzMRtZ33mx3d2YnAfeBgcxu5vf+3s3OzDuBior/m6jguDlgAWgBl4Gr8fUD4BDYBN4CXVeDPomAu8BXoJ+xfQHaFH9Q3mgA22Q3LtsWMBXcdcwN4Pgcg1naT+B2YO+0gFPFzAnwElgEpoFLcZuOr71KGXczlPkG8EMx0QHqGcevKeOPM453IsJ+58+A+wW0luOxck6Uyj3sJ1fE/IAVRa/t6HEoEfZS2fGguy40dz1oqsyLQKdA04NuHTOJk9ozrqIXlGt3RP8NsOcaCNjH7M5JFlxFtQRaoi+DuiC1ZKzcaAlcEf3PrkES7JwTyws9/n1Pax61a0K75yqo/QJ9V9Ec8ZxjaQkciv6ka5AUrSNXQS2B76I/7xokRUvGyo2WwKboOy91CeQS/d6j9l9msTeyhgfdJnaFet2DrkWEOUklA6150H0tNLuUeFJri2B9TFVZlIeKXmnFHJgnsyUCngEPCmitYJfTG+jzzytT6EfJdbIVd03s12ZwtCxlB9a4hV1BDiZ2B1gCrmF22Fr8eSm+px0p+5hSfSJUAmDOsL4O9dpfMk9DJFHHnhN52gbmtZkYcj9IEmBWjt0cxrvxmOSEHfbdYEmAOUmtAu8we0YP+AV8Az4ATzCblLbOpyUcNImiPCI9ieejs5adKolxoUpiXKiSGBdyJ1F6SZuTF8DjlPu/QxlxRfslVkfqqADJJIaavxjMTn4+YWqpj8CzEXupqBhb/gDkPGRIUmbdIAAAAABJRU5ErkJggg==",de=(n(539),function(e){var t=function(){return 0===e.onlyFlagKnown?"menu__check inactive white":1===e.onlyFlagKnown?"menu__check active neonwhite":2===e.onlyFlagKnown?"menu__check active green":void 0},n=function(){return 0===e.onlyFlagKnown?null:1===e.onlyFlagKnown?"Showing unknown only":2===e.onlyFlagKnown?"Showing known only":void 0},s=function(){return 0===e.onlyFlagKnown?Object(a.jsx)(te.a,{}):1===e.onlyFlagKnown?Object(a.jsx)(ie.a,{}):2===e.onlyFlagKnown?Object(a.jsx)(te.a,{}):void 0},r=function(){0===e.onlyFlagKnown?e.setOnlyFlagKnown(1):1===e.onlyFlagKnown?e.setOnlyFlagKnown(2):2===e.onlyFlagKnown&&e.setOnlyFlagKnown(0)};return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"menu__main",children:[Object(a.jsxs)("div",{className:"menu__element",onClick:function(){return e.setFilterGuitar(!e.filterGuitar)},children:[Object(a.jsx)("div",{className:"menu__dymotagguitar",children:Object(a.jsx)(P.a,{placement:"right",title:e.filterGuitar&&"Guitar tabs hidden",children:"\xa0Guitar\xa0"})}),Object(a.jsx)(P.a,{placement:"topLeft",title:e.filterGuitar&&"Guitar tabs hidden",children:Object(a.jsx)("div",{className:e.filterGuitar?"menu__iconguitar inactive":"menu__iconguitar",children:Object(a.jsx)("img",{width:"27",height:"27",src:le,alt:le})})}),Object(a.jsx)("div",{className:"menu__dymobgguitar"}),e.filterGuitar?Object(a.jsx)("div",{className:"guitar__strike"}):""]}),Object(a.jsxs)("div",{className:"menu__element",onClick:function(){return e.setFilterPiano(!e.filterPiano)},children:[Object(a.jsx)("div",{className:"menu__dymotagpiano",children:Object(a.jsx)(P.a,{placement:"right",title:e.filterPiano&&"Piano songs hidden",children:"\xa0\xa0\xa0Piano\xa0"})}),Object(a.jsx)("div",{className:"menu__dymobgpiano"}),e.filterPiano?Object(a.jsx)("div",{className:"piano__strike"}):"",Object(a.jsx)(P.a,{placement:"top",title:e.filterPiano&&"Piano songs hidden",children:Object(a.jsx)("div",{className:e.filterPiano?"menu__iconpiano inactive":"menu__iconpiano",children:Object(a.jsx)("img",{width:"37",height:"37",src:W,alt:W})})})]}),Object(a.jsxs)("div",{className:"menu__element",onClick:function(){return e.setFilterBass(!e.filterBass)},children:[Object(a.jsx)("div",{className:"menu__dymotagbass",children:Object(a.jsx)(P.a,{placement:"right",title:e.filterBass&&"Bass tabs hidden",children:"\xa0\xa0\xa0\xa0bass\xa0"})}),Object(a.jsx)("div",{className:"menu__dymobgbass"}),e.filterBass?Object(a.jsx)("div",{className:"bass__strike"}):"",Object(a.jsx)(P.a,{placement:"top",title:e.filterBass&&"Bass tabs hidden",children:Object(a.jsx)("div",{className:e.filterBass?"menu__iconbass inactive":"menu__iconbass",children:Object(a.jsx)("img",{width:"27",height:"27",src:$,alt:$})})})]}),Object(a.jsxs)("div",{className:"menu__element",children:[Object(a.jsx)("div",{className:"menu__sidebookmark",children:Object(a.jsx)(P.a,{placement:"right",title:e.onlyBookmarked&&"Showing bookmarked only",children:Object(a.jsx)("div",{className:e.onlyBookmarked?"menu__favorite active":"menu__favorite inactive",onClick:function(){return e.setOnlyBookmarked(!e.onlyBookmarked)},children:Object(a.jsx)("img",{width:"25",height:"30",src:ae,alt:ae})})})}),Object(a.jsx)("div",{className:"menu__bottombookmark",children:Object(a.jsx)(P.a,{placement:"top",title:e.onlyBookmarked&&"Showing bookmarked only",children:Object(a.jsx)("div",{className:e.onlyBookmarked?"menu__favorite active":"menu__favorite inactive",onClick:function(){return e.setOnlyBookmarked(!e.onlyBookmarked)},children:Object(a.jsx)("img",{width:"25",height:"30",src:ae,alt:ae})})})})]}),Object(a.jsxs)("div",{className:"menu__element",children:[Object(a.jsx)("div",{className:"menu__sidecheck",children:Object(a.jsx)(P.a,{placement:"bottomLeft",title:n(),children:Object(a.jsx)("div",{className:t(),onClick:r,children:s()})})}),Object(a.jsx)("div",{className:"menu__bottomcheck",children:Object(a.jsx)(P.a,{placement:"topRight",title:n(),children:Object(a.jsx)("div",{className:t(),onClick:r,children:s()})})})]})]}),Object(a.jsxs)("div",{className:"menu__extra",children:[Object(a.jsx)("div",{className:"menu__search inactive white",style:null===e.token?{}:{right:"-47px"},children:Object(a.jsx)("img",{width:"25",src:ue,alt:ue})}),Object(a.jsxs)("div",{className:"menu__element",onClick:function(){return e.setShowAddForm(!e.showAddForm)},children:[Object(a.jsx)(P.a,{placement:"right",title:"Add a new song",children:Object(a.jsx)("div",{className:"menu__dymotagadd",children:"\xa0add\xa0"})}),Object(a.jsx)("div",{className:"menu__dymobgadd",style:null===e.token?{right:"-20px"}:{right:"-34px"}})]}),null===e.token?Object(a.jsxs)("div",{className:"menu__element",onClick:function(){return e.setShowLoginForm(!e.showLoginForm)},children:[Object(a.jsx)("div",{className:"menu__dymotaglogin",children:"\xa0login\xa0"}),Object(a.jsx)("div",{className:"menu__dymobglogin"})]}):Object(a.jsxs)("div",{className:"menu__element",onClick:function(){return e.logout()},children:[Object(a.jsx)("div",{className:"menu__dymotaglogout",children:"\xa0logout\xa0"}),Object(a.jsx)("div",{className:"menu__dymobglogout"})]})]})]})}),je=(n(540),function(){return Object(a.jsxs)("div",{className:"Footer__Main",children:["Songbook by ",Object(a.jsx)("a",{href:"http://www.clementvanstaen.com",target:"_blank",rel:"noopener noreferrer",children:"Cl\xe9ment van Staen"}),", 2020"]})}),be=function(e,t,n,a){l.a.open({message:e,description:t,duration:n,type:a,placement:"topRight"})};var he=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(s.useState)(localStorage.getItem("refreshToken")),c=Object(i.a)(o,2),l=c[0],u=c[1],j=Object(s.useState)(!1),b=Object(i.a)(j,2),h=b[0],g=b[1],m=Object(s.useState)(!1),A=Object(i.a)(m,2),p=A[0],f=A[1],O=Object(s.useState)(!1),k=Object(i.a)(O,2),w=k[0],y=k[1],C=Object(s.useState)(!1),N=Object(i.a)(C,2),P=N[0],B=N[1],S=Object(s.useState)(0),E=Object(i.a)(S,2),T=E[0],z=E[1],D=Object(s.useState)(!1),L=Object(i.a)(D,2),G=L[0],F=L[1],U=Object(s.useState)(!1),M=Object(i.a)(U,2),Q=M[0],I=M[1],R=function(e,t){r(e),u(t)},V=function(){localStorage.removeItem("refreshToken"),localStorage.clear(),r(null),u(null);var e={refreshToken:l};fetch("https://auth-cvs.herokuapp.com/logout",{method:"DELETE",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){if(204!==e.status)throw be("Error "+e.status,"Error on logout: The refresh token was not found in the token database.",0,"error"),new Error("Error when logout!");be("You have successfully logged out.","",3,"success")})).catch((function(e){console.log(e)}))};return Object(s.useEffect)((function(){r(n)}),[n]),Object(s.useEffect)((function(){null!=l&&null===n&&(console.log("Interceptor thinks it needs a new token!"),function(e){if(null!=e){var t=d.a.decode(e,{complete:!0}),a=new Date;t.exp<Math.floor(a.getTime()/1e3)&&(console.log("[script] REFRESH TOKEN HAS EXPIRED!"),V())}if(null!=n){var s=d.a.decode(n,{complete:!0}),r=new Date;s.exp<Math.floor(r.getTime()/1e3)&&(console.log("[script] TOKEN HAS EXPIRED!"),R(null,e))}if(null===n&&null!=e){var o={refreshToken:e};console.log("requestBody",o),fetch("https://auth-cvs.herokuapp.com/token",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then((function(e){if(201!==e.status)throw new Error("Error when refreshing the token!");return e.json()})).then((function(e){localStorage.setItem("refreshToken",e.refreshToken),e.token&&R(e.token,e.refreshToken)})).catch((function(e){console.log(e)}))}}(l))})),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("header",{className:"App-header",children:[Object(a.jsx)(x,{showAddForm:G,setShowAddForm:F,token:n}),Object(a.jsx)(v,{showLoginForm:Q,setShowLoginForm:I,token:n,login:R,logout:V}),Object(a.jsx)(de,{filterBass:h,setFilterBass:g,filterPiano:p,setFilterPiano:f,filterGuitar:w,setFilterGuitar:y,onlyBookmarked:P,setOnlyBookmarked:B,onlyFlagKnown:T,setOnlyFlagKnown:z,showAddForm:G,setShowAddForm:F,showLoginForm:Q,setShowLoginForm:I,token:n,logout:V}),Object(a.jsx)(ce,{filterBass:h,filterPiano:p,filterGuitar:w,onlyFlagKnown:T,onlyBookmarked:P,token:n})]}),Object(a.jsx)(je,{})]})};c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(he,{})}),document.getElementById("root"))}},[[541,1,2]]]);
//# sourceMappingURL=main.4217528f.chunk.js.map